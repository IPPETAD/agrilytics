{% extends "base.html" %}

{% block title %}Field{% endblock %}

{% block content %}

<script>$("#nav-fields").addClass("active");</script>

<h1>Field {{field.name}} <small>Details</small></h1>
<a href='edit'><h3>Edit</h3></a>

<div id="mapview" style="height: 400px;"></div>

<script>
var geo = {{field.geo|safe or []}};

if (geo) {
loadStaticMap(geo);
	
}

</script>
{% if field.section %}
<p>This field contains the following sections:</p>
<ul>
    {% for section in field.section %}
    <li><a href="section/{{field.section.index(section)}}">{{ section.name }}</a>
    {% endfor %}
</ul>

<p>and the following crops:</p>
<ul>
    {% for crop in crops %}
        <li>{{ crop }}</li>
    {% endfor %}
</ul>
<a href="section/add">Add another section</a>
{% else %}
<p>There are no sections. <a href="section/add">Add one</a></p>
{% endif %}
<form method="post" role="form" onsubmit="return confim('Are you sure you want to delete this field? It cannot be undone.')">
    {{ form.hidden_tag() }}
    <button type="submit" value="confirm" class="btn btn-primary">Delete</button>
</form>
{% endblock %}


